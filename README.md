# TıklaYe 

## Proje Adı: TıklaYe

## Proje Açıklaması

TıklaYe, çevrim içi bir yemek siparişi ve iş yönetim platformudur. Gelişmiş bir kullanıcı deneyimi sunarak, restoranlar ve kullanıcılar arasında etkileşimi kolaylaştırmayı amaçlayan bu web uygulaması, kullanıcıların çeşitli restoranlardan ve menülerden seçim yaparak sipariş vermelerine olanak tanır. Aynı zamanda işletme sahiplerine de ürünlerini yönetme, siparişleri takip etme ve işletme süreçlerini daha verimli bir şekilde yönetme imkanı sunar.

### Temel Amaç ve Hedefler

TıklaYe projesinin temel amacı, yiyecek ve içecek siparişi verme sürecini daha hızlı, güvenilir ve kullanıcı dostu hale getirmektir. Bu hedef doğrultusunda, aşağıdaki ana amaçları ve hedefleri gerçekleştirmeyi amaçlar:

- **Kullanıcı Deneyimini İyileştirmek**: Kullanıcıların restoranları ve menüleri kolayca inceleyebileceği, sipariş verebileceği ve ödemelerini güvenli bir şekilde gerçekleştirebileceği bir platform sunmak.
  
- **İşletme Yönetimini Kolaylaştırmak**: İşletmeciler için tasarlanan yönetim paneli, ürün ekleme, düzenleme ve silme işlemlerini kolaylaştırır. Ayrıca siparişlere yönelik satış raporu, siparişe dair kapsamlı detaylar sunar.
  
- **Sipariş Sürecini Optimize Etmek**: Kullanıcıların siparişlerini hızlı ve sorunsuz bir şekilde tamamlamalarını sağlamak için etkili bir ödeme ve sipariş yönetim sistemi geliştirmek.
  
- **Geri Bildirim ve İletişimi Güçlendirmek**: Kullanıcıların platform hakkında geri bildirimde bulunabilmesi için etkili bir geri bildirim mekanizması oluşturmak.

- **Verimliliği Artırmak:** Hem kullanıcılar hem de işletmeciler için süreçleri basitleştirmek ve verimliliği artırmak amaçlanmıştır.

  
### Çözülen Problemler ve İhtiyaçlar

- **Hızlı ve Kolay Sipariş Verme**: Geleneksel yemek sipariş yöntemleri genellikle zaman alıcıdır. TıklaYe, kullanıcıların birkaç tıklama ile siparişlerini tamamlamalarını sağlayarak zaman kaybını en aza indirir.

- **Yönetimsel Zorluklar**:  İşletmeciler için ürün ve sipariş yönetimi karmaşık olabilir. TıklaYe, işletmecilere kapsamlı bir yönetim aracı sunarak bu zorlukları ortadan kaldırır ve yönetim süreçlerini basitleştirir.

- **Geri Bildirim Toplama**: Kullanıcıların restoranlar hakkındaki deneyimlerini kolayca paylaşmalarına olanak tanır.

- **Güvenli ve Etkili Ödeme Sistemleri**: Kullanıcıların ödeme işlemlerini güvenli bir şekilde gerçekleştirmelerini sağlar, çeşitli ödeme yöntemleri sunar ve dolandırıcılık gibi riskleri minimize eder.

### Kullanıcı ve İşletme Ara Yüzleri

- **Kullanıcı Arayüzü**: Restoranları görüntüleme, menü inceleme, sepet işlemleri, sipariş verme, ödeme işlemleri, sipariş geçmişi görüntüleme, hesap bilgileri görüntüleme/güncelleme ve geri bildirim gönderme gibi temel işlevleri kolayca gerçekleştirebileceği bir arayüz sağlar.
  
- **İşletme Arayüzü**: Ürün ekleme, düzenleme, silme, siparişleri yönetme, satış raporu, işletme bilgileri görüntüleme/güncelleme gibi işlevlerle işletme sahiplerinin işlerini daha verimli bir şekilde yürütmelerine yardımcı olur.

### Teknolojiler ve Araçlar

TıklaYe, modern web teknolojilerini kullanarak geliştirilmiş bir uygulamadır. Proje, kullanıcı ve işletme ihtiyaçlarına göre özelleştirilmiş bir arayüz ve güçlü bir arka uç altyapısı ile desteklenmektedir. Web teknolojileri, veritabanı yönetimi ve güvenlik önlemleri gibi çeşitli bileşenler, projenin temel yapı taşlarını oluşturur.

## Özellikler

TıklaYe, kullanıcıların ve restoran sahiplerinin çeşitli ihtiyaçlarına hitap eden kapsamlı bir yemek siparişi ve yönetim platformudur. İşte projede mevcut olan ana özellikler:

### 1. **Kullanıcı Yönetimi**

- **Kullanıcı Kayıt ve Giriş:** Kullanıcılar, platforma kayıt olarak ve giriş yaparak kişisel hesaplarına erişebilirler. Kayıt işlemi, kullanıcıların e-posta adreslerini ve diğer gerekli bilgileri sağlamalarını gerektirir.
- **Profil Yönetimi**: Kullanıcılar, kişisel bilgilerini görüntüleyebilir ve güncelleyebilir. 

### 2. **Restoran ve Menü Yönetimi**

- **Restoran Görüntüleme:** Kullanıcılar, aktif tüm restoranları listeleyebilir ve restoranların menülerine erişebilirler.
- **Menü Görüntüleme:** Kullanıcılar; restoranların sunduğu yemeklerin detaylı listesini ve bilgilerini görüntüleyebilir, ürünleri seçebilir ve sepetine ekleyebilir.
- **Ürün Ekleme ve Düzenleme:** Restoran sahipleri, yeni ürünler ekleyebilir, mevcut ürünleri düzenleyebilir ve silebilir. Ürünlerin açıklamaları, fiyatları ve resimleri yönetilebilir.

### 3. **Sipariş ve Ödeme**

- **Sepet Yönetimi**: Kullanıcılar, seçtikleri ürünleri sepete ekleyebilir, sepetlerini görüntüleyebilir ve düzenleyebilirler. Sepet, kullanıcıların siparişlerini gözden geçirmelerine olanak tanır.

- **Sipariş Tamamlama**: Kullanıcılar, sepetlerindeki ürünlerle yeni bir sipariş oluştururlar. Sipariş tamamlandıktan sonra, siparişin alındığına dair bir bilgilendirme sayfası görüntülenir.

- **Sipariş Takibi:** Kullanıcılar, siparişlerinin durumunu gerçek zamanlı olarak takip edebilirler.

- **Güvenli Ödeme İşlemleri**: Ödeme işlemleri, çeşitli yöntemler (kredi kartı, kapıda ödeme vb.) kullanılarak güvenli bir şekilde gerçekleştirilir. 

- **Fatura Oluşturma:** Kullanıcılar, siparişlerinin faturalarını PDF formatında indirebilirler.

### 4. **Yönetici ve İşletme Yönetimi**
- **İşletme Onayı ve Aktivasyonu:** Yönetici, yeni işletmeleri onaylayabilir ve aktif hale getirebilir. İşletme sahiplerine onaylandıklarına dair e-posta gönderilir. 
- **İşletme Pasifleştirme:** İşletmeler gerektiğinde pasifleştirilebilir ve ürünleri de bu duruma göre yönetilebilir.

### 5. **Geri Bildirim ve Destek**
- **Geri Bildirim Formu:** Kullanıcılar, istedikleri konu hakkında geri bildirimde bulunabilirler. Geri bildirimler veritabanına kaydedilir ve yönetici ile paylaşılır.

### 6. **Kullanıcı ve Yetki Yönetimi**
- **Kullanıcı Rolleri:** İşletmeci ve müşteri rolleri tanımlanmıştır. Ve bu kullanıcı rolleri için ayrı kayıt olma ve giriş yapma sayfaları tasarlanmıştır. Böylelikle işletmecinin de müşteri olarak uygulamayı kullanabilmesine olanak tanınmıştır. 
- **Yetki Yönetimi:** Kullanıcıların erişim seviyeleri, rollerine göre belirlenir ve yetkileri doğrultusunda uygulama üzerinde işlem yapabilirler.
- **Admin:** Tüm sistem üzerinde tam yetkiye sahiptir.
- **Business Owner:** Kendi işletmesi üzerinde tam yetkiye sahiptir.
- **User:** Sipariş verme ve geri bildirimde bulunma yetkisine sahiptir.

### 7. **Performans ve Güvenlik**
- **Performans İyileştirmeleri:** Uygulama, hızlı yanıt süreleri ve yüksek performans hedeflenerek optimize edilmiştir.
- **Güvenlik Önlemleri:** Kullanıcı verileri şifreleme yöntemleri kullanılarak güvenli bir şekilde korunur, kimlik doğrulama ve yetkilendirme yöntemleri ile güvenlik sağlanır.

TıklaYe; kullanıcıların ve işletmelerin ihtiyaçlarına cevap vermek üzere çeşitli işlevler sunarak, hem operasyonel verimliliği hem de kullanıcı memnuniyetini artırmayı hedefler.

## Teknolojiler ve Araçlar

TıklaYe projesinde, yüksek performans ve güvenilirlik sağlamak amacıyla çeşitli modern teknolojiler, kütüphaneler ve araçlar kullanılmıştır. İşte projede kullanılan ana teknolojiler ve araçlar:

###  1. Programlama Dilleri

- **C#** : TıklaYe projesi, güçlü ve esnek bir programlama dili olan C# kullanılarak geliştirilmiştir. C#, .NET ekosisteminde yer alan gelişmiş özellikleri ve zengin kütüphaneleri ile hem sunucu tarafı hem de istemci tarafı işlemlerini yönetmek için ideal bir dildir.

### 2. Çerçeveler (Frameworks)

- **ASP.NET Core** : Projenin temel çatısını oluşturan ASP.NET Core, yüksek performanslı ve platformdan bağımsız bir web uygulama geliştirme çerçevesidir. ASP.NET Core; MVC mimarisi, bağımlılık enjeksiyonu, konfigürasyon yönetimi ve kullanıcı kimlik doğrulama gibi birçok özelliği sunarak, TıklaYe projesinin modern web standartlarına uygun olmasını sağlar.

- **ASP.NET Core MVC** : ASP.NET Core MVC framework'ü, web uygulamalarında model-view-controller (MVC) tasarım desenini uygulamak için kullanılır. Bu kütüphane, HTTP isteklerini işlemek, yönlendirme yapmak ve kullanıcıya dinamik içerik sunmak için temel araçlar sağlar.
  
- **Entity Framework Core** : Veri erişimi ve yönetimi için kullanılan ORM (Object-Relational Mapping) aracı olan Entity Framework Core, TıklaYe projesinde veritabanı işlemlerini kolaylaştırmak için kullanılmıştır. Bu araç veritabanı ile etkileşim kurarak, verileri sorgulamak ve güncellemek için kullanılır.

### 3. Kütüphaneler ve Paketler

- **MediatR** : CQRS (Command Query Responsibility Segregation) pattern'ini uygulamak için kullanılan bu kütüphane, projenin farklı katmanları arasında iletişim kurulmasını sağlar. Bu sayede, komut ve sorgu işlemleri ayrıştırılarak projenin daha modüler ve sürdürülebilir olması sağlanır.

- **System.Security.Claims** : Bu kütüphane, uygulama içinde kimlik doğrulama ve yetkilendirme işlemleri için kullanılır. Kullanıcıların kimlik bilgilerini ve yetkilendirme bilgilerini içeren "claim" (talep) objelerini yönetmek için araçlar sunar. Özellikle kullanıcı rolleri ve izinlerini yönetmek için kritik bir rol oynar.

- **Microsoft.AspNetCore.Authentication.Cookies** : Bu kütüphane, çerez tabanlı kimlik doğrulama işlemlerini gerçekleştirmek için kullanılır. Kullanıcıların kimliklerini doğrulamak ve oturumlarını yönetmek için çerezleri kullanır. Bu sayede, kullanıcılar uygulamada güvenli bir şekilde oturum açabilir ve yetkilendirilebilir.
  
- **MailKit ve MimeKit** : MailKit, SMTP protokolü üzerinden e-posta gönderimi sağlamak için kullanılan bir kütüphanedir. MimeKit ise MIME (Multipurpose Internet Mail Extensions) mesajlarını oluşturmak ve işlemek için kullanılan bir kütüphanedir.

- **Newtonsoft.Json** : JSON veri formatı ile işlemler yapmak için kullanılan Newtonsoft.Json kütüphanesi, veri serileştirme ve deserileştirme işlemlerini kolaylaştırır. API'ler ile veri alışverişinde ve dış veri kaynakları ile entegrasyonda kullanılır.

- **System.Security.Cryptography** : Kriptografik işlemleri gerçekleştirmek için kullanılan bu kütüphane; veri şifreleme, imzalama ve veri bütünlüğünü sağlama gibi güvenlik işlemleri sunar. Özellikle hassas verilerin korunması ve güvenli veri aktarımı için önemli bir araçtır.


### 4. Veritabanı

- **Microsoft SQL Server**: Projede veritabanı yönetim sistemi olarak Microsoft SQL Server kullanılmıştır. Verilerin güvenli ve verimli bir şekilde saklanmasını sağlayan SQL Server; yüksek performanslı veri depolama, sorgulama ve yönetim özellikleri sunar.
  
### 5. Araçlar ve Diğer Teknolojiler

- **SMTP (Simple Mail Transfer Protocol) :** E-posta gönderim işlemleri için kullanılır. TıklaYe projesinde işletme sahiplerine onay ve bilgilendirme e-postaları gönderilmesini sağlar. Güvenilir e-posta iletimi ve takip imkanı sunar.

- **Visual Studio** : TıklaYe projesi, Microsoft Visual Studio 2022 IDE'si kullanılarak geliştirilmiştir. Visual Studio, güçlü hata ayıklama araçları, IntelliSense desteği ve entegre araçlar sunarak, geliştirici deneyimini iyileştirir ve verimliliği artırır.

- **TLS :** Tüm veri iletimleri HTTPS protokolü üzerinden gerçekleştirilir. TLS protokolü, verilerin sunucu ve istemci arasında şifreli bir şekilde iletilmesini sağlar, böylece veri güvenliği sağlanır.

- **HTTP Cookie :** Oturum yönetimi için çerez tabanlı kimlik doğrulama kullanılmıştır. Kullanıcının oturum bilgileri güvenli bir şekilde çerezlerde saklanır ve kullanıcı her istekte bulunduğunda bu bilgiler doğrulanır.

TıklaYe projesinde kullanılan bu teknolojiler ve araçlar, uygulamanın yüksek performansını, güvenliğini ve kullanıcı deneyimini artırmak için seçilmiştir.

## Veritabanı Yapısı

TıklaYe projesinin veritabanı yapısı, uygulamanın veri yönetimini ve işlem performansını optimize edecek şekilde tasarlanmıştır. Veritabanı yapısı, uygulamanın veri bütünlüğünü sağlamak ve yüksek performanslı sorgular gerçekleştirmek amacıyla tasarlanmıştır. Veritabanı tasarımında ilişkisel model kullanılarak veri yönetimi kolaylaştırılmış ve ilişkiler açık bir şekilde tanımlanmıştır. Aşağıda veritabanı şeması ve tablo yapısı hakkında detaylı bilgi bulunmaktadır.

### Veritabanı Şeması

#### **Users (Kullanıcılar)**
- **Açıklama:** Kullanıcı bilgilerini depolar.

#### **Products (Ürünler)**
- **Açıklama:** Adminin eklediği ürün bilgilerini depolar.

#### **Categories (Kategoriler)**
- **Açıklama:** Kategorileri bilgilerini depolar.

#### **Purchases (Siparişler)**
- **Açıklama:** Kullanıcı siparişlerini depolar.

#### **Feedbacks (Geri Bildirim)**
- **Açıklama:** Kullanıcı geri bildirimlerini depolar.

#### **CartItems (Sepet Öğeleri)**
- **Açıklama:** Kullanıcı sepet bilgilerini depolar.

#### **BusinessOwners (İşletmeciler)**
- **Açıklama:** İşletmeci bilgilerini depolar.
  
#### **PartnerProducts**
- **Açıklama:** İşletme sahiplerinin eklediği ürünleri depolar.

## Tablo İlişkileri

- **Users ve Purchases:**
  - Her kullanıcı bir veya daha fazla sipariş verebilir. `Users` tablosundaki `UserId` alanı, `Purchases` tablosundaki `UserId` ile ilişkilidir.
  - Bir kullanıcı, birden fazla sipariş verebilir bu nedenle bu ilişki bire-çok (one-to-many) ilişkisidir.

- **PartnerProducts ve Categories:**
  - Her ürün bir kategoriye aittir. `PartnerProducts` tablosundaki `CategoryId` alanı, `Categories` tablosundaki `CategoryId` ile ilişkilidir.
  - Bir kategori, birden fazla ürünü içerebilir, bu nedenle bu ilişki bire-çok (one-to-many) ilişkisidir.

- **Users ve Feedback:**
  - Her kullanıcı bir veya daha fazla geri bildirimde bulunabilir. `Users` tablosundaki `UserId` alanı, `Feedback` tablosundaki `UserId` ile ilişkilidir.
  - Bir kullanıcı, birden fazla geri bildirimde bulunabilir, bu nedenle bu ilişki bire-çok (one-to-many) ilişkisidir.

- **PartnerProducts ve CartItems:**
  - Her ürün bir veya daha fazla sepet öğesinde yer alabilir. `PartnerProducts` tablosundaki `ProductId` alanı, `CartItems` tablosundaki `ProductId` ile ilişkilidir.

- **Users ve CartItems:**
  - Her kullanıcı, sepetinde bir veya daha fazla ürün bulundurabilir. `Users` tablosundaki `UserId` alanı, `CartItems` tablosundaki `UserId` ile ilişkilidir.
  - Bir kullanıcı, sepetine birden fazla ürün ekleyebilir, bu nedenle bu ilişki bire-çok (one-to-many) ilişkisidir.

- **BusinessOwners ve PartnerProducts:**
  - Her ürün bir işletmeciye aittir. Her işletmeci bir veya daha fazla ürün sunabilir. `BusinessOwners` tablosundaki `BusinessOwnerId` alanı, `PartnerProducts` tablosundaki `BusinessOwnerId` ile ilişkilidir.
  - Bir işletmeci, birden fazla ürünü yönetebilir, bu nedenle bu ilişki bire-çok (one-to-many) ilişkisidir.

- **Categories ve Products:**
  - Her kategori bir veya daha fazla ürünü içerebilir. `Categories` tablosundaki `CategoryId` alanı, `Products` tablosundaki `CategoryId` ile ilişkilidir.
  - Bir kategori, birden fazla ürünü içerebilir, bu nedenle bu ilişki bire-çok (one-to-many) ilişkisidir.


## Tasarım Desenleri ve Akışlar

TıklaYe projesinde kullanılan tasarım desenleri ve veri akışları; uygulamanın sürdürülebilirliğini, genişletilebilirliğini ve bakımını kolaylaştıracak şekilde tasarlanmıştır. Aşağıda, projede kullanılan başlıca tasarım desenleri ve veri akışları hakkında ayrıntılı açıklamalar bulunmaktadır.

### Tasarım Desenleri

Projede, yazılım geliştirme sürecini kolaylaştıran ve kodun sürdürülebilirliğini artıran birtakım tasarım deseni kullanılmıştır. Bu desenler, uygulamanın modülerliğini sağlarken aynı zamanda kodun yeniden kullanılabilirliğini ve test edilebilirliğini de artırır.

1. **Command-Query Responsibility Segregation (CQRS)**
   - **Açıklama :** CQRS, veri okuma (Query) ve veri yazma (Command) işlemlerini birbirinden ayıran bir tasarım desenidir. CQRS, veri yazma ve okuma işlemlerini ayrı işleme ve yönetme yaklaşımıdır. Bu ayrım, uygulamanın performansını ve ölçeklenebilirliğini artırırken, karmaşık iş kurallarını da daha yönetilebilir hale getirir.
   - **Kullanım :** TıklaYe projesi CQRS Pattern temel alınarak geliştirilmiştir.
     
2. **Dependency Injection (DI - Bağımlılık Enjeksiyonu)**
   - **Açıklama :** Bağımlılık Enjeksiyonu, nesnelerin birbirine bağımlılığını ortadan kaldırarak kodun esnekliğini ve test edilebilirliğini artıran bir desendir. Bu desen sayesinde, sınıflar arası bağımlılıklar dışarıdan yönetilir ve kodun birim testleri daha kolay hale gelir.
   - **Kullanım :** Projede bağımlılıklar `Program.cs` dosyasında yapılandırılır ve gerekli bileşenler `Constructor Injection` ile sağlanır. Bu, uygulamanın bileşenleri arasında gevşek bağlılık sağlar ve testlerin daha kolay yapılmasını sağlar.

3. **Mediator Pattern (Arabulucu Deseni)**
   - **Açıklama :** Mediator Pattern, nesneler arasındaki doğrudan iletişimi engelleyerek, iletişimi merkezi bir arabulucu üzerinden yöneten bir desendir. Mediator Pattern, farklı nesneler arasındaki iletişimi merkezileştirir. Bu desen, nesneler arasındaki doğrudan bağımlılıkları azaltır ve sistemi daha modüler hale getirir.
   - **Kullanım :** Projede, `MediatR` kütüphanesi kullanılarak komut ve sorgu işleyicileri arasında arabuluculuk yapılmıştır.

4. **Model-View-Controller (MVC) Pattern**
   - **Açıklama :** Model-View-Controller (MVC) Pattern, yazılım uygulamalarını üç ana bileşene ayırarak geliştirmeyi ve yönetimi kolaylaştıran bir tasarım desenidir. Bu üç bileşen:
     - **Model :** Uygulamanın veri katmanını temsil eder. Veritabanı işlemleri, iş mantığı ve veri doğrulama gibi işlemler burada gerçekleştirilir.
     - **View :** Kullanıcı arayüzünü temsil eder. Uygulamanın görsel kısmını oluşturarak, kullanıcıya veri sunar ve kullanıcıdan alınan verileri Controller'a iletir.
     - **Controller :** İş mantığını yönetir ve kullanıcı isteklerini işleyerek uygun Model'i ve View'i seçer. Model ve View bileşenleri arasındaki etkileşimi düzenler.
   - **Kullanım :** TıklaYe projesinde ASP.NET Core MVC kullanılarak, uygulamanın iş mantığı, kullanıcı arayüzü ve veri katmanları ayrıştırılmıştır. Bu desen, uygulamanın farklı bileşenlerinin birbirinden bağımsız geliştirilmesini sağlar, böylece hem kodun okunabilirliği artar hem de sistem daha modüler ve sürdürülebilir hale gelir. Controller sınıfları, kullanıcıdan gelen istekleri işler, gerekli veriyi Model katmanından alır ve sonuçları View bileşenine ileterek kullanıcıya sunar.


### Veri Akışları

**Kullanıcı Kaydı:**
   - Kullanıcı, kayıt formunu doldurur ve gönderir.
   - `UserExistsQueryHandler`, kullanıcı adı veya e-posta adresinin mevcut olup olmadığını kontrol eder.
   - Eğer kullanıcı zaten mevcutsa, hata mesajı gösterilir.
   - Kullanıcı mevcut değilse, `RegisterUserCommandHandler` yeni bir kullanıcı kaydını gerçekleştirir.
   - Kayıt işlemi başarılı olursa, kullanıcı giriş sayfasına yönlendirilir.


**Kullanıcı Girişi:**
   - Kullanıcı, giriş formunu doldurur ve gönderir.
   - `LoginCommandHandler`, kullanıcı bilgilerini doğrular.
   - Eğer kullanıcı bilgileri doğruysa, kullanıcı oturum açar ve ilgili sayfaya yönlendirilir:
     - Admin ise, admin ana sayfasına yönlendirilir.
     - Normal kullanıcı ise, ana sayfaya yönlendirilir.
   - Eğer bilgiler yanlışsa, kullanıcı girişi engellenir.

  
**Kullanıcı Profilini Görüntüleme:**
   - Kullanıcı profilini görüntülemek istediğinde, `UserProfile` aksiyonu çağrılır.
   - Kullanıcı ID'si `GetUserIdFromSession` yöntemi ile session'dan alınır.
   - Kullanıcı ID'si mevcut değilse, giriş sayfasına (`Login`) yönlendirilir.
   - `GetUserProfileQuery` oluşturulur ve `IMediator` aracılığıyla işlenir.
   - Kullanıcı profili verileri alınır ve kullanıcıya görüntülenmek üzere sayfada gösterilir.


**Kullanıcı Profilini Güncelleme:**
   - Kullanıcı profil bilgilerini güncellemek istediğinde, `UpdateUserProfile` aksiyonu çağrılır.
   - Form verileri doğrulanır; geçerli değilse, kullanıcı profil sayfasına (`UserProfile`) geri döner.
   - Kullanıcı ID'si `GetUserIdFromSession` yöntemi ile session'dan alınır.
   - `UpdateUserProfileCommand` oluşturulur ve `IMediator` aracılığıyla işlenir.
   - Güncelleme başarılıysa, başarı mesajı gösterilir.
   - Hata durumunda, hata mesajı gösterilir.


**Kullanıcının Satın Alma Geçmişini Görüntüleme:**
   - Kullanıcı satın alma geçmişini görüntülemek istediğinde, `PurchaseHistory` aksiyonu çağrılır.
   - Kullanıcı ID'si `GetUserIdFromSession` yöntemi ile session'dan alınır.
   - `GetPurchaseHistoryQuery` oluşturulur ve `IMediator` aracılığıyla işlenir.
   - Satın alma geçmişi verileri alınır ve kullanıcıya görüntülenmek üzere sayfada gösterilir.


**Kullanıcı Çıkışı:**
   - Kullanıcı, çıkış butonuna tıklar.
   - Oturum sonlandırılır ve kullanıcı oturumu kapatılır.
   - Kullanıcı, ana sayfaya yönlendirilir.


**İşletme Kaydı:**
   - İşletme sahibi, kayıt formunu doldurur ve gönderir.
   - `RegisterCommand`, kayıt işlemini gerçekleştirir.
   - `MediatR` aracılığıyla `RegisterCommand` işlenir.
   - Eğer e-posta zaten kullanılıyorsa, hata mesajı gösterilir.
   - Kayıt işlemi başarılı olursa, işletme sahibi kaydın başarılı olduğuna dair bilgilendirme sayfasına yönlendirilir.


**İşletme Girişi:**
   - İşletme sahibi, giriş formunu doldurur ve gönderir.
   - `LoginQuery`, giriş bilgilerini doğrulamak için kullanılır.
   - `MediatR` aracılığıyla `LoginQuery` işlenir.
   - Eğer giriş bilgileri doğruysa ve hesabı yönetici tarafından onaylandıysa:
     - İşletme sahibi oturum açar ve işletme profili sayfasına yönlendirilir.
   - Eğer bilgiler yanlışsa veya hesabı henüz yönetici tarafından onaylanmamışsa, işletmeci girişi engellenir.


**İşletme Profili Görüntüleme:**
   - İşletme sahibi, profil sayfasını görüntüler.
   - İşletme sahibi ID'si oturumdan alınır.
   - `GetBusinessProfileQuery` kullanılarak işletme profili bilgileri alınır.
   - Profil bilgileri `BusinessProfileViewModel`'e dönüştürülür ve görüntülenir.
   - İşletme sahibi bulunamazsa, 404 hata sayfası gösterilir.


**İşletme Profili Güncelleme:**
   - İşletme sahibi, profil bilgilerini günceller ve gönderir.
   - `UpdateBusinessProfileCommand` kullanılarak profil güncellenir.
   - `MediatR` aracılığıyla `UpdateBusinessProfileCommand` işlenir.
   - Güncelleme başarılı olursa, başarı mesajı gösterilir.
   - Güncelleme başarısız olursa, hata mesajı gösterilir.


**Restoran Gelir Raporu Görüntüleme:**
   - İşletme sahibi, gelir raporu sayfasını görüntüler.
   - İşletme sahibi ID'si oturumdan alınır.
   - `GetRestaurantRevenueQuery` kullanılarak gelir raporu bilgileri alınır.
   - Rapor, belirtilen tarihler arasında gelir bilgilerini içerir ve görüntülenir.


**İşletme Çıkışı:**
   - İşletme sahibi, çıkış butonuna tıklar.
   - Oturum sonlandırılır ve işletme sahibi oturumu kapatılır.
   - İşletme sahibi, ana sayfaya yönlendirilir.

  
**Sepetim Sayfası Görüntüleme:**
   - Kullanıcı, sepetim sayfasını görüntülemek için `Index` aksiyonunu tetikler.
   - Kullanıcı ID'si oturumdan alınır.
   - Eğer kullanıcı ID'si mevcut değilse, kullanıcı giriş sayfasına yönlendirilir.
   - `ICartQueryService` kullanılarak, kullanıcının sepetindeki ürünler alınır.
   - Sepet içeriği kullanıcıya sunulur.


**Sepete Ürün Ekleme:**
   - Kullanıcı, bir ürünü sepete eklemek için `AddToCart` aksiyonunu tetikler.
   - Kullanıcı ID'si oturumdan alınır.
   - `ApplicationDbContext` kullanılarak, ürün veritabanından alınır.
   - Eğer ürün bulunamazsa, 404 hata sayfası gösterilir.
   - `AddToCartCommand` oluşturulur ve `AddToCartCommandHandler` kullanılarak işlenir.
   - Ürün başarıyla sepete eklenirse, sepet sayfasına yönlendirilir.
   - Hata durumunda, hata mesajı gösterilir.


**Sepetten Ürün Çıkarma:**
   - Kullanıcı, sepetteki bir ürünü çıkarmak için `RemoveFromCart` aksiyonunu tetikler.
   - Kullanıcı ID'si oturumdan alınır.
   - `RemoveFromCartCommand` oluşturulur ve `RemoveFromCartCommandHandler` kullanılarak işlenir.
   - Ürün başarıyla sepetten çıkarılırsa, sepet sayfasına yönlendirilir.
   - Hata durumunda, hata mesajı gösterilir.


**Sepeti Temizleme:**
   - Kullanıcı, sepeti temizlemek ve ana sayfaya yönlendirilmek için `ClearCartAndRedirect` aksiyonunu tetikler.
   - Kullanıcı ID'si oturumdan alınır.
   - `ClearCartCommand` oluşturulur ve `ClearCartCommandHandler` kullanılarak işlenir.
   - Sepet temizlendikten sonra, kullanıcı ana sayfaya yönlendirilir.


**Yeni Kategori Oluşturma:**
   - Admin, kategori bilgilerini doldurur ve gönderir.
   - Eğer model doğrulama başarılıysa, `CreateCategoryCommand` oluşturulur ve `CreateCategoryCommandHandler` kullanılarak işlenir.
   - Kategori başarıyla oluşturulursa, admin kategori listesi sayfasına yönlendirilir.
   - Hata durumunda, hata mesajı gösterilir ve form tekrar sunulur.

  
**Kategori Güncelleme:**
   - Admin, kategori bilgilerini günceller ve gönderir.
   - Model doğrulama başarılıysa, `UpdateCategoryCommand` oluşturulur ve `UpdateCategoryCommandHandler` kullanılarak işlenir.
   - Kategori başarıyla güncellenirse, admin kategori listesi sayfasına yönlendirilir.
   - Hata durumunda, hata mesajı gösterilir ve form tekrar sunulur.

  
**Kategori Silme:**
   - Admin, bir kategoriyi silmek için `Delete` aksiyonunu tetikler.
   - `DeleteCategoryCommand` oluşturulur ve `DeleteCategoryCommandHandler` kullanılarak işlenir.
   - Kategori başarıyla silinirse, admin kategori listesi sayfasına yönlendirilir.

  
**Geri Bildirim Gönderme:**
   - Kullanıcı ID'si oturumdan alınır.
   - Kullanıcı geri bildirim formunu doldurur ve gönderir.
   - Form gönderimi işlenir.
   - Konu veya mesaj boşsa, model durumuna hata mesajı eklenir ve form tekrar sunulur.
   - `CreateFeedbackCommand` oluşturulur ve `CreateFeedbackCommandHandler` kullanılarak işlenir.
   - Geri bildirim başarıyla işlenirse, başarı mesajı eklenir.
   - Hata durumunda, model durumuna hata mesajı eklenir ve form tekrar sunulur.


**Aktif İşletmecileri Listeleme:**
   - Kullanıcı, aktif işletmecilerin listesini görüntülemek istediğinde, `Restaurants` aksiyonu çağrılır.
   - Veritabanından aktif olan işletmeciler `BusinessOwners` tablosundan çekilir.
   - Aktif işletmeciler liste haline getirilir ve restoranlar kullanıcıya gösterilir.


**Belirli Bir İşletmecinin Ürünlerini Listeleme:**
   - Kullanıcı, belirli bir işletmecinin ürünlerini görüntülemek istediğinde, `PartnerProducts` aksiyonu çağrılır ve `businessOwnerId` parametresi iletilir.
   - Veritabanından, belirtilen işletmeciye ait ve aktif olan ürünler `PartnerProducts` tablosundan çekilir.
   - Ürünler liste haline getirilir ve ürün listesi kullanıcıya gösterilir.


**Ödeme Sayfasını Görüntüleme:**
   - Kullanıcı, ödeme sayfasını görüntülemek istediğinde, `Payment` aksiyonu çağrılır.
   - Kullanıcı kimliği `GetUserId` yöntemi ile alınır.
   - Eğer kullanıcı kimliği alınamazsa, kullanıcı giriş sayfasına (`Login`) yönlendirilir.
   - Kullanıcı kimliği ile `GetPaymentQuery` oluşturulur ve MediatR aracılığıyla işlenir.
   - Ödeme detayları ve sepet öğeleri `ViewModel`'e atanır.
   - Toplam tutar `ViewBag` ile sayfaya aktarılır ve ödeme sayfası görüntülenir.


**Siparişi Tamamlama:**
   - Kullanıcı, siparişi tamamlamak için ödeme formunu doldurur ve gönderir.
   - `CompleteOrder` aksiyonu çağrılır.
   - Sipariş bilgileri (kart adı, kart numarası, son kullanma tarihi, CVV veya teslimat adresi) ile `CompleteOrderCommand` oluşturulur.
   - `CompleteOrderCommand` MediatR aracılığıyla işlenir.
   - Sipariş başarıyla tamamlanırsa, kullanıcı siparişiniz alındı sayfasına yönlendirilir.
   - Hata durumunda, model durumuna hata mesajı eklenir ve ödeme sayfası tekrar görüntülenir.

  
**Yeni Ürün Ekleme:**
   - İşletmeci ürün ekleme formunu doldurur ve gönderir.
   - `AddProduct` aksiyonu çağrılır.
   - Form verileri doğrulanır; geçerli değilse, kategori seçenekleri tekrar alınır ve form tekrar sunulur.
   - `AddProductCommand` oluşturulur ve `AddProductCommandHandler` ile işlenir.
   - Ürün başarıyla eklenirse, ürünler listesine yönlendirilir.
   - Hata durumunda, hata mesajı gösterilir ve form tekrar sunulur.


**Ürün Bilgilerini Güncelleme:**
   - İşletmeci ürün güncelleme formunu doldurur ve gönderir.
   - `EditProduct` aksiyonu çağrılır.
   - Form verileri doğrulanır; geçerli değilse, kategori seçenekleri tekrar alınır ve form tekrar sunulur.
   - `EditProductCommand` oluşturulur ve `EditProductCommandHandler` ile işlenir.
   - Ürün başarıyla güncellenirse, ürünler listesine yönlendirilir.
   - Hata durumunda, hata mesajı gösterilir ve form tekrar sunulur.

  
**Ürünü Silme:**
   - İşletmeci bir ürünü silmek istediğinde, `DeleteProduct` aksiyonu çağrılır.
   - Ürün kimliği ile `DeleteProductCommand` oluşturulur ve `DeleteProductCommandHandler` ile işlenir.
   - Silme işlemi başarılı olursa, ürünler listesine yönlendirilir.

  
#### Aynı şekilde Admin içinde Yeni Ürün Ekleme, Ürün Bilgilerini Güncelleme ve Ürünü Silme Akışları mevcuttur.


**Satış Raporlarını Görüntüleme:**
   - Yönetici, belirli bir tarih aralığındaki satış raporlarını görüntülemek istediğinde, `SalesReport` aksiyonu çağrılır.
   - `GetSalesReportQuery` oluşturulur ve `GetSalesReportQueryHandler` aracılığıyla işlenir.
   - Satış raporları alınır ve toplam gelir hesaplanır.


**İşletme Taleplerini Görüntüleme:**
   - Yönetici, onaylanmamış işletme taleplerini görüntülemek istediğinde, `BusinessRequests` aksiyonu çağrılır.
   - Onaylanmamış işletme talepleri görüntülenir.


**İşletme Talebini Onaylama:**
  - Platforma yeni katılan işletmeler, yönetici tarafından onaylanır. Bu işlem, işletme sahibi ve ürünlerinin aktif hale getirilmesini sağlar.
  - İşletme sahibi, başvurusunu tamamlar ve yöneticinin onayını bekler.
  - Yönetici, `ApproveBusinessCommandHandler` ile işletmeyi onaylar.
  - İşletme, `BusinessOwners` tablosunda aktif hale getirilir ve işletmenin ürünleri de `Products` tablosunda aktif hale getirilir.
  - Onaylanan işletmeye, onay bilgileri e-posta ile gönderilir.


**Geri Bildirimleri Görüntüleme:**
   - Yönetici, kullanıcı geri bildirimlerini görüntülemek istediğinde, `AdminFeedback` aksiyonu çağrılır.
   - `GetFeedbacksQuery` oluşturulur ve `GetFeedbacksQueryHandler` aracılığıyla işlenir.
   - Geri bildirimler alınır ve görüntülenir.


**Kullanıcıları Görüntüleme:**
   - Yönetici, kullanıcıları görüntülemek istediğinde, `User` aksiyonu çağrılır.
   - `GetAllUsersQuery` oluşturulur ve `GetAllUsersQueryHandler` aracılığıyla işlenir.
   - Kullanıcılar alınır ve ve görüntülenir.


**Bir Kullanıcıyı Silme:**
   - Yönetici, belirli bir kullanıcıyı silmek istediğinde, `Delete` aksiyonu çağrılır.
   - `DeleteUserCommand` oluşturulur ve `DeleteUserCommandHandler` aracılığıyla işlenir.
   - Silme başarılıysa, ana sayfaya yönlendirilir.


**Sipariş Durumlarını Görüntüleme:**
   - Yönetici, sipariş durumlarını görüntülemek istediğinde, `Status` aksiyonu çağrılır.
   - `GetGroupedPurchasesQuery` oluşturulur ve `GetGroupedPurchasesQueryHandler` aracılığıyla işlenir.
   - Sipariş durumları alınır ve görüntülenir.


**Sipariş Durumunu Güncelleme:**
   - Yönetici, bir siparişin durumunu güncellemek istediğinde, `UpdateStatus` aksiyonu çağrılır.
   - `UpdateStatusCommand` oluşturulur ve `UpdateStatusCommandHandler` aracılığıyla işlenir.
   - Sipariş durumunun güncellenme sonucu kontrol edilir.
   - Güncelleme başarılıysa, ana sayfaya yönlendirilir.


**İşletmeleri Listeleme:**
   - Yönetici, aktif olan işletmeleri listelemek istediğinde, `ListBusinesses` aksiyonu çağrılır.
   - Aktif işletmeler `ApplicationDbContext` kullanılarak alınır.
   - İşletmeler, görüntülenir.

  
**İşletmeyi Pasifleştirme:**
   - Yönetici, belirli bir işletmeyi pasifleştirmek istediğinde, `DeactivateBusiness` aksiyonu çağrılır.
   - `DeactivateBusinessCommand` oluşturulur ve `IMediator` aracılığıyla işlenir.
   - İşletmenin pasifleştirilme sonucu kontrol edilir.
   - Pasifleştirme başarılıysa, onaylanmış işletmeler sayfasına yönlendirilir.


**İşletmeyi Aktifleştirme:**
   - Yönetici, belirli bir işletmeyi aktifleştirmek istediğinde, `ActivateBusiness` aksiyonu çağrılır.
   - `ActivateBusinessCommand` oluşturulur ve `IMediator` aracılığıyla işlenir.
   - İşletmenin aktifleştirilme sonucu kontrol edilir.
   - Aktifleştirme başarılıysa, onaylanmış işletmeler sayfasına yönlendirilir.


**Onaylanan İşletmeleri Görüntüleme:**
   - Yönetici, onaylanmış işletmeleri görüntülemek istediğinde, `ViewBusinesses` aksiyonu çağrılır.
   - Onaylanmış işletmeler `ApplicationDbContext` kullanılarak alınır.
   - İşletmeler, görüntülenir.


**Belirli Bir İşletmeye Ait Ürünleri Görüntüleme:**
   - Yönetici, belirli bir işletmeye ait ürünleri görüntülemek istediğinde, `ViewProducts` aksiyonu çağrılır.
   - İşletme ID'sine göre ürünler `ApplicationDbContext` kullanılarak alınır.
   - İşletme bilgileri de alınır ve `ViewBag.BusinessOwner` ile birlikte ürünler görüntülenmek üzere `View` metoduna iletilir.


**İşletmecilerin Eklediği Ürünü Silme:**
   - Yönetici, belirli bir ürünün silinmesini istediğinde, `DeletePartnerProduct` aksiyonu çağrılır.
   - `DeleteProductCommand` oluşturulur ve `DeleteProductCommandHandler` aracılığıyla işlenir.
   - Ürün silinir ve işletmeler listesine yönlendirilir.


**Son..**
